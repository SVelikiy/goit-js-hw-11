{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const searchParams = new URLSearchParams({\n  key: '44778676-049b64250b69e7d3e774d3724',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nexport function getImg(searchValue) {\n  return fetch(`https://pixabay.com/api/?q=${searchValue}&${searchParams}`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    });\n}\n","\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function createMarkup(arr) {\n  const list = document.querySelector('.gallery');\n  list.innerHTML = '';\n  if (arr.length === 0) {\n    iziToast.show({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    messageColor: '#fff',\n    backgroundColor: 'red',\n    position: 'topRight',\n  });\n  }\n  const markup = arr\n    .map(\n      ({\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        largeImageURL,\n      }) => {\n        return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=${largeImageURL} onclick=\"event.preventDefault()\">\n    <img\n      class=\"gallery-image\"\n      src=${webformatURL}\n      alt=${tags} /></a>\n      <div class=\"list-info\">\n      <ul class=\"info-items\">\n  <li class=\"item-info\">\n    <h3  class=\"item-title\">Likes</h3>\n    <p class=\"item-text\">${likes}</p>\n  </li>\n  <li class=\"item-info\">\n    <h3 class=\"item-title\">Views</h3>\n    <p class=\"item-text\">${views}</p>\n  </li>\n  <li class=\"item-info\">\n    <h3 class=\"item-title\">Comments</h3>\n    <p class=\"item-text\">${comments}</p>\n  </li>\n  <li class=\"item-info\">\n    <h3 class=\"item-title\">Downloads</h3>\n    <p class=\"item-text\">${downloads}</p>\n  </li>\n</ul>\n      </div>\n</li>`;\n      }\n    )\n    .join('');\n  list.insertAdjacentHTML('beforeend', markup);\n}\n","import { getImg } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.js-form');\nconst loader = document.querySelector('.js-loader');\n\nform.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  const searchImg = form.elements.search.value.toLowerCase().trim();\n  if (searchImg === \"\") {\n    return iziToast.show({\n      message: 'Please enter your request.',\n      messageColor: '#fff',\n      backgroundColor: 'red',\n      position: 'topRight',\n    });\n  }\n  loader.classList.add('loader');\n  getImg(searchImg)\n    .then(data => {\n      createMarkup(data.hits);\n      modal.refresh();\n    })\n    .catch(onFetchError)\n    .finally(() => {\n      form.reset();\n      loader.classList.remove('loader');\n    });\n}\n\n  let modal = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionType: 'attr',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    captionsData: 'alt',\n  });\n\n\n  function onFetchError() {\n    iziToast.show({\n      message: 'Something went wrong, please try again',\n      messageColor: '#fff',\n      backgroundColor: 'red',\n      position: 'topRight',\n    });\n  }\n"],"names":["searchParams","getImg","searchValue","res","createMarkup","arr","list","iziToast","markup","webformatURL","tags","likes","views","comments","downloads","largeImageURL","form","loader","handlerSubmit","evt","searchImg","data","modal","onFetchError","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEM,SAASC,EAAOC,EAAa,CAClC,OAAO,MAAM,8BAA8BA,CAAW,IAAIF,CAAY,EAAE,EACrE,KAAMG,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,CACL,CCXO,SAASC,EAAaC,EAAK,CAChC,MAAMC,EAAO,SAAS,cAAc,UAAU,EAC9CA,EAAK,UAAY,GACbD,EAAI,SAAW,GACjBE,EAAS,KAAK,CACd,QACE,2EACF,aAAc,OACd,gBAAiB,MACjB,SAAU,UACd,CAAG,EAED,MAAMC,EAASH,EACZ,IACC,CAAC,CACC,aAAAI,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACR,IACe;AAAA,iCACkBA,CAAa;AAAA;AAAA;AAAA,YAGlCN,CAAY;AAAA,YACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2BAKWC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAM/B,EACA,KAAK,EAAE,EACVR,EAAK,mBAAmB,YAAaE,CAAM,CAC7C,CCnDA,MAAMQ,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,YAAY,EAElDD,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAClB,MAAMC,EAAYJ,EAAK,SAAS,OAAO,MAAM,YAAW,EAAG,OAC3D,GAAII,IAAc,GAChB,OAAOb,EAAS,KAAK,CACnB,QAAS,6BACT,aAAc,OACd,gBAAiB,MACjB,SAAU,UAChB,CAAK,EAEHU,EAAO,UAAU,IAAI,QAAQ,EAC7BhB,EAAOmB,CAAS,EACb,KAAKC,GAAQ,CACZjB,EAAaiB,EAAK,IAAI,EACtBC,EAAM,QAAO,CACnB,CAAK,EACA,MAAMC,CAAY,EAClB,QAAQ,IAAM,CACbP,EAAK,MAAK,EACVC,EAAO,UAAU,OAAO,QAAQ,CACtC,CAAK,CACL,CAEE,IAAIK,EAAQ,IAAIE,EAAe,aAAc,CAC3C,SAAU,GACV,YAAa,OACb,gBAAiB,SACjB,aAAc,IACd,aAAc,KAClB,CAAG,EAGD,SAASD,GAAe,CACtBhB,EAAS,KAAK,CACZ,QAAS,yCACT,aAAc,OACd,gBAAiB,MACjB,SAAU,UAChB,CAAK,CACL"}